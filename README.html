<!DOCTYPE html>
<html>
<head>
	<title>Peditor Documentation</title>
	<style type="text/css">
		body {
			font-size: 14px;
			font-family: "Open Sans", Helvetica, Arial, sans-serif;
			margin-bottom: 60%;
			padding: 10px;
		}
		h1 { font-size: 26px; }
		h2 { font-size: 22px; }
		h3 { font-size: 18px; }
		pre { color: #832BAC; }
		.em { color: #E21010; }   /* emphasis */
		.al { color: #C4259D; }   /* alert */
		.pt { color: #2BAC45; }   /* point */
		.large { font-size: 18px; }
		.grey { color: #777; }
		.code { font-family:  monospace, Courier; }
		.center { text-align: center; }
		img {
			max-width: 800px
		}
		table {
			margin: 10px 0;
		}
		td {
			padding: 3px 10px;
			border: 1px dashed #ccc;
		}

		hr {
			border-bottom: 1px solid #fff;
			border-top: 1px solid #ccc;
		}
		li, .section {
			padding: 3px 10px;
			-webkit-transition: all 0.2s ease-out;
		}
		li:hover, .section:hover {
			background: rgba(255, 255, 255, 0.5);
			box-shadow: 1px 1px 3px #777;
		}
	</style>
</head>
<body>

<div class="section">
	<h1>Peditor Overview</h1>
	<p>
		An application to abstract and visualize the edit procedure of common web pages.
		Combine the two words Page and Editor, we get the project's name
		<b>Peditor</b> <em>| 'pedit…ô |</em>.
	</p>
</div>

<hr />

<div class="section">
	<h1>Build & Control</h1>
	<ul>
		<li>
			<h3>Requirement</h3>
			<ul>
				<li>Unix-like system.</li>
				<li>Node.js installed.</li>
			</ul>
		</li>
		<li>
			<h3>Configuration</h3>
			<span class="al">config.json</span> file. The global configuration.
			<p>
				The default mode is <b>development</b> mode.
			</p>
		</li>
		<li>
			<h3>Build</h3>
			<ol>
				<li>
					Install node dependencies: <pre>npm install --production</pre>
				</li>
				<li>
					Install client app dependencies: <pre>npm run-script client</pre>
				</li>
			</ol>
		</li>
		<li>
			<h3>Control</h3>
			<ul>
				<li>
					Start server: <pre>npm start</pre>
				</li>
				<li>
					Restart server: <pre>npm restart</pre>
				</li>
				<li>
					Stop server: <pre>npm stop</pre>
				</li>
				<li>
					Launch server in background: <pre>npm run-script launch</pre>
				</li>
			</ul>
		</li>
	</ul>
</div>

<hr />

<div class="section">
	<h1>Test & Debug</h1>
	<ul>
		<li>
			Make it easier to access the tools in the 'node_modules'.
			<pre>source kit/shell_evn.sh</pre>
		</li>
		<li>
			Install dev dependencies: <pre>npm install</pre>
		</li>
		<li>
			Watch and auto compile files: <pre>npm run-script watch</pre>
		</li>
		<li>
			Auto test: <pre>npm test</pre>
		</li>
	</ul>
</div>

<hr />

<div class="section">
	<h1>Tech</h1>

	<table class="code">
		<tr>
			<td>Frameworks</td>
			<td>Linux, Enginx, CouchDB, Node</td>
		</tr>
		<tr>
			<td>Libraries</td>
			<td>Express.js, Underscore.js, jQuery</td>
		</tr>
		<tr>
			<td>Manager</td>
			<td>npm, bower, grunt</td>
		</tr>
		<tr>
			<td>Languages</td>
			<td>Coffeescript, Javascript, html, stylus, css</td>
		</tr>
	</table>
</div>

<hr />

<div class="section">
	<h1>Design</h1>

	<p>Agile.</p>
	<p>
		Here I introduce a new web app architecture that I created,
		<a target="_blank" href="http://blog.ysmood.org/2012/12/msv-application-architecture/">MSV</a>.
		Compared with the famous MVC, there is no controller component. Instead the service component will take the charge.

		<br />

		The design pattern on the editor is <a target="_blank" href="http://en.wikipedia.org/wiki/Command_pattern">Command Pattern</a>.
	</p>
</div>

<hr />

<div class="section">
	<h1>Client System</h1>
	<ol>
		<li>
			<p>
				<h3>Flexible Height Grid System</h3>
				<p>
					All containers are created by 'drag and drop'.
					Now there're four types of containers:
					<ul>
						<li><b>root</b></li>
						<li>
							<b style="color: #6D63FF">row</b>
						</li>
						<li>
							<b style="color: #00BEFF">column</b>
						</li>
						<li>
							<b style="color: #FF73FF">widget</b>
						</li>
					</ul>
				</p>
				<img src="docs/img/peditor_grid_system.png" alt="height_responsive_design" />
				<ul>
					<li>The root can't directly hold a column.</li>
					<li>
						A row and a column can't become sibling nodes.
					</li>
					<li>
						All containers except the widget can has height constraint.
					</li>
					<li>
						Only column can contain widget.
						A column can remain empty, or has several widgets inside, which behaves like a Stack List.
					</li>
					<li>
						A row's width can be an absolute value,
						but a column's width is always a relate value of its parent node.
					</li>
				</ul>
			</p>
		</li>
		<li>
			<h3>Common Widgets</h3>
			<ul>
				<li>slider</li>
				<li>music list</li>
				<li>custom</li>
				<li>etc</li>
			</ul>
		</li>
		<li>
			<h3>Property Editor</h3>
			<p>
				Here's the properties that editable for each container.
			</p>
			<table>
				<tr>
					<td>Root</td>
					<td>background image, width</td>
				</tr>
				<tr>
					<td>Row</td>
					<td>background image</td>
				</tr>
				<tr>
					<td>Column</td>
					<td>background image</td>
				</tr>
				<tr>
					<td>Widget</td>
					<td>width, height, margin.</td>
				</tr>
			</table>
		</li>
		<li>
			<h3>TODO: Save & Load Manager.</h3>
		</li>
		<li>
			<h3>TODO: History control</h3>
			<p>this will be implement in future.</p>
		</li>
	</ol>
</div>

<hr />

<div class="section">
	<h1>Protocol</h1>

	<ul>
		<li>
			<h3>Widget API</h3>
			<p>
				TODO: What method should a widget has. How does a widget expose its editable properties.
			</p>
		</li>
		<li>
			<h3>Page Document</h3>
			<p>
				TODO: Mainly a file format for saving the edit's states is enough. I call the format <b>Page Document</b>,
				file extension '.pdoc'. It saves the edit commands and page resources.
			</p>
		</li>
	</ul>

</div>

<hr />

<div class="section">
	<h1>Server System</h1>

	<p>The CouchDB is good enough, it has already covered most the requirements with its build-in functions.</p>

		<ol>
			<li>Page documents manager, CRUD.</li>
		</ol>
</div>

</body>
</html>